(function(a,l){"use strict";var m={exports:{}},c={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p=a,f=Symbol.for("react.element"),x=Symbol.for("react.fragment"),h=Object.prototype.hasOwnProperty,k=p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_={key:!0,ref:!0,__self:!0,__source:!0};function u(r,t,i){var n,e={},o=null,d=null;i!==void 0&&(o=""+i),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(d=t.ref);for(n in t)h.call(t,n)&&!_.hasOwnProperty(n)&&(e[n]=t[n]);if(r&&r.defaultProps)for(n in t=r.defaultProps,t)e[n]===void 0&&(e[n]=t[n]);return{$$typeof:f,type:r,key:o,ref:d,props:e,_owner:k.current}}c.Fragment=x,c.jsx=u,c.jsxs=u,m.exports=c;var s=m.exports;const w=()=>{const[r,t]=a.useState(""),[i,n]=a.useState([]);return a.useEffect(()=>{window.Desktop&&(window.Desktop.agentState.getAgent().then(e=>{t((e==null?void 0:e.name)||"Desconocido")}),window.Desktop.agentContact.on("contact-offer",async e=>{console.log("Nuevo contacto entrante:",e),n(o=>[...o,e]);try{await window.Desktop.agentContact.accept({interactionId:e.interactionId}),console.log("Task aceptado automÃ¡ticamente:",e.interactionId)}catch(o){console.error("Error al aceptar task:",o)}}),window.Desktop.agentContact.on("contact-ended",e=>{console.log("Contacto finalizado:",e),n(o=>o.filter(d=>d.interactionId!==e.interactionId))}))},[]),s.jsxs("div",{className:"p-4",children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:"Widget Task Agent Auto"}),s.jsxs("p",{children:["ðŸ‘¤ Agente: ",r]}),s.jsx("h3",{className:"mt-4 font-semibold",children:"Tareas activas:"}),s.jsx("ul",{children:i.map(e=>s.jsxs("li",{className:"border p-2 rounded mb-2",children:["Canal: ",e.mediaType," â€” ID: ",e.interactionId]},e.interactionId))})]})};class g extends HTMLElement{connectedCallback(){const t=document.createElement("div");this.appendChild(t),l.render(s.jsx(a.StrictMode,{children:s.jsx(w,{})}),t)}disconnectedCallback(){this.firstChild&&l.unmountComponentAtNode(this.firstChild)}}customElements.get("wxcc-taskagentauto")||customElements.define("wxcc-taskagentauto",g)})(React,ReactDOM);
